{"version":3,"sources":["admin1/header/header.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA+CA;gBAII,yBACkB,aAA2B,EAC3B,eAA+B,EAC/B,OAAe;oBAFf,kBAAa,GAAb,aAAa,CAAc;oBAC3B,oBAAe,GAAf,eAAe,CAAgB;oBAC/B,YAAO,GAAP,OAAO,CAAQ;gBAAE,CAAC;gBAEpC,kCAAQ,GAAR;oBACI,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBAChC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;oBACnE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChD,CAAC;gBAED,gCAAM,GAAN;oBAAA,iBAYC;oBAVG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;yBACzB,SAAS,CAAE,UAAA,QAAQ;wBACZ,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;wBACtB,KAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;wBACtC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACrC,CAAC,EACD,UAAA,KAAK;wBACD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACvB,CAAC,CACJ,CAAC;gBACV,CAAC;gBAED,qCAAW,GAAX;oBACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAClB,CAAC;gBAzEL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,WAAW;wBACrB,QAAQ,EACP,67CAoCA;qBACJ,CAAC;;mCAAA;gBAkCF,sBAAC;YAAD,CAhCA,AAgCC,IAAA;YAhCD,6CAgCC,CAAA","file":"admin1/header/header.component.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { LoginService } from '../../auth/login/login.service';\r\nimport { StorageService } from '../../shared/storage/storage.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'my-header',\r\n    template:\r\n     `\r\n     <!-- Logo -->\r\n    <a class=\"logo\">\r\n      <!-- mini logo for sidebar mini 50x50 pixels -->\r\n      <span class=\"logo-mini\"><b>D</b>S</span>\r\n      <!-- logo for regular state and mobile devices -->\r\n      <span class=\"logo-lg\"><b>{{_info[0]?.company}}</b> [ {{_info[0]?.branches[0]?.name}} ]</span>\r\n    </a>\r\n    <!-- Header Navbar: style can be found in header.less -->\r\n    <nav class=\"navbar navbar-static-top\">\r\n      <!-- Sidebar toggle button-->\r\n      <a href=\"#\" class=\"sidebar-toggle\" data-toggle=\"offcanvas\" role=\"button\">\r\n        <span class=\"sr-only\">Toggle navigation</span>\r\n      </a>\r\n\r\n      <div class=\"navbar-custom-menu\">\r\n        <ul class=\"nav navbar-nav\">\r\n          \r\n          <!-- User Account: style can be found in dropdown.less -->\r\n          <li class=\"dropdown user user-menu\">\r\n            <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n              <span class=\"hidden-xs\">{{_info[0]?.last_name+' '+_info[0]?.first_name}}</span>\r\n            </a>\r\n            <ul class=\"dropdown-menu\">\r\n              <!-- Menu Footer-->\r\n              <li class=\"user-footer\">\r\n                <div class=\"pull-right\">\r\n                  <a (click)=\"logout()\" class=\"btn btn-default btn-flat\">Sign out</a>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <!-- Control Sidebar Toggle Button -->\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n    `\r\n})\r\n\r\nexport class HeaderComponent implements OnInit, OnDestroy { \r\n\r\n    private _info;\r\n\r\n    constructor(\r\n              private _loginService: LoginService, \r\n              private _storageService: StorageService,\r\n              private _router: Router){}\r\n\r\n    ngOnInit(){\r\n        this._info = (this._storageService.get('rUser'))?\r\n                        JSON.parse(this._storageService.get('rUser')) : {};\r\n        console.log(this._info[0].branches[0].name);\r\n    }\r\n\r\n    logout(){\r\n\r\n        this._loginService.getLogout()\r\n            .subscribe( response => {\r\n                    console.log(response);\r\n                    this._loginService.cleanAuthDetails();\r\n                    this._router.navigate(['login']); \r\n                },\r\n                error => {\r\n                    console.log(error);\r\n                }\r\n            );\r\n    }\r\n\r\n    ngOnDestroy(){\r\n      this._info = '';\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}