{"version":3,"sources":["shared/modal/modal.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YA0FA;gBAMI,eAAoB,YAA0B;oBAA1B,iBAAY,GAAZ,YAAY,CAAc;oBAHrC,aAAQ,GAAG,KAAK,CAAC;oBAC1B,WAAM,GAAY,KAAK,CAAC;gBAGxB,CAAC;gBAED,wBAAQ,GAAR;oBACI,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;gBAEO,qBAAK,GAAb,UAAc,aAAqB;oBAArB,6BAAqB,GAArB,qBAAqB;oBAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBACzD,CAAC;gBAEO,qBAAK,GAAb,UAAc,KAAoB;oBAC9B,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;wBACvB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;oBAChD,CAAC;gBACL,CAAC;gBApBD;oBAAC,YAAK,CAAC,UAAU,CAAC;;sDAAA;gBAClB;oBAAC,YAAK,CAAC,aAAa,CAAC;;yDAAA;gBACrB;oBAAC,YAAK,EAAE;;uDAAA;gBA1FZ;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,UAAU;wBACpB,QAAQ,EAAE,0mEAkFT;wBACD,IAAI,EAAE,EAAE,kBAAkB,EAAE,eAAe,EAAE;qBAChD,CAAC;;yBAAA;gBAuBF,YAAC;YAAD,CAtBA,AAsBC,IAAA;YAtBD,yBAsBC,CAAA","file":"shared/modal/modal.component.js","sourcesContent":["import {Component,Input,OnInit} from '@angular/core';\r\nimport { ModalService } from './modal.service';\r\n\r\n@Component({\r\n    selector: 'tb-modal',\r\n    template: `\r\n        <style>\r\n            .modal-overlay {\r\n            background-color: rgba(0, 0, 0, .4);\r\n            bottom: 0;\r\n            left: 0;\r\n            position: fixed;\r\n            right: 0;\r\n            top: 0;\r\n            z-index: 1000;\r\n        }\r\n\r\n        .modal {\r\n            @include shadow-float();\r\n\r\n            background-color: $white;\r\n            left: calc(50% - 200px);\r\n            max-height: calc(100% - 10em);\r\n            min-height: 10em;\r\n            overflow-y: auto;\r\n            position: fixed;\r\n            top: 5em;\r\n            width: 400px;\r\n            z-index: 1100;\r\n\r\n            .title {\r\n                background-color: $color-heading-bg;\r\n\r\n                .right {\r\n                    color: $color-text;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                .right:hover {\r\n                    color: lighten($color-text, 10%);\r\n                }\r\n            }\r\n\r\n            .title,\r\n            .body {\r\n                padding: .75em;\r\n            }\r\n\r\n            input,\r\n            select {\r\n                height: auto;\r\n                margin-bottom: 7px;\r\n            }\r\n\r\n            .buttons {\r\n                float: right;\r\n                margin: 1em;\r\n                margin-right: 0;\r\n\r\n                .flat {\r\n                    background-color: $white;\r\n                    color: $color-text;\r\n                    line-height: 1.1em;\r\n                }\r\n            }\r\n        }\r\n        \r\n        </style>\r\n        \r\n        <div *ngIf=\"isOpen\">\r\n            <div class=\"modal-overlay\" (click)=\"close(true)\"></div>\r\n\r\n            <div class=\"modal\">\r\n                <div class=\"title\" *ngIf=\"modalTitle\">\r\n                    <h2>\r\n                        {{ modalTitle }}\r\n                        <span class=\"right\" (click)=\"close()\">\r\n                            <i class=\"icon icon-cancel\"></i>\r\n                        </span>\r\n                    </h2>\r\n                </div>\r\n\r\n                <div class=\"body\">\r\n                    <ng-content></ng-content>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    host: { '(document:keyup)': 'keyup($event)' }\r\n})\r\nexport class Modal implements OnInit {\r\n    @Input('modal-id') modalId: string;\r\n    @Input('modal-title') modalTitle: string;\r\n    @Input() blocking = false;\r\n    isOpen: boolean = false;\r\n\r\n    constructor(private modalService: ModalService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.modalService.registerModal(this);\r\n    }\r\n\r\n    private close(checkBlocking = false): void {\r\n        this.modalService.close(this.modalId, checkBlocking);\r\n    }\r\n\r\n    private keyup(event: KeyboardEvent): void {\r\n        if (event.keyCode === 27) {\r\n            this.modalService.close(this.modalId, true);\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}