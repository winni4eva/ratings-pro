{"version":3,"sources":["admin2/misc/image/view/view-image.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YAyBA;gBAUI,4BACgB,YAAyB,EACzB,aAAmC;oBADnC,iBAAY,GAAZ,YAAY,CAAa;oBACzB,kBAAa,GAAb,aAAa,CAAsB;oBAR3C,aAAQ,GAAG;wBACf,QAAQ,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC;wBAC1B,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,IAAI;qBACrB,CAAC;gBAImD,CAAC;gBAEtD,qCAAQ,GAAR;oBACI,IAAI,CAAC,SAAS,EAAE,CAAC;gBACrB,CAAC;gBAED,0CAAa,GAAb,UAAc,OAAO;oBACjB,IAAI,SAAS,GAAG,OAAO,CAAC,oDAAoD,CAAC,CAAC;oBAC9E,EAAE,CAAC,CAAC,SAAS,CAAC;wBACV,IAAI,CAAC,WAAW,CAAE,OAAO,CAAE,CAAC;gBACpC,CAAC;gBAED,wCAAW,GAAX,UAAY,OAAO;oBAAnB,iBAYC;oBAXG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,SAAS,CAC5C,UAAA,GAAG;wBACC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,KAAI,CAAC,SAAS,EAAE,CAAC;wBACjB,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,EAAE,+BAA+B,CAAC,CAAA;oBAC1E,CAAC,EACD,UAAA,GAAG;wBACC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAA;oBAC7D,CAAC,CACJ,CAAC;gBACN,CAAC;gBAED,sCAAS,GAAT;oBAAA,iBAOC;oBANG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,SAAS,CACnC,UAAA,MAAM;wBACF,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;oBACjC,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B,CAAC;gBACN,CAAC;gBACD,wCAAW,GAAX;oBACI,EAAE;gBACN,CAAC;gBArEL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,eAAe;wBACzB,QAAQ,EACT,msBAcE;qBACJ,CAAC;;sCAAA;gBAoDD,yBAAC;YAAD,CAjDD,AAiDE,IAAA;YAjDF,mDAiDE,CAAA","file":"admin2/misc/image/view/view-image.component.js","sourcesContent":["import { Component, OnInit, OnDestroy  } from '@angular/core';\r\nimport { MiscService } from '../../misc.service';\r\nimport {NotificationsService} from 'angular2-notifications';\r\n\r\n@Component({\r\n    selector: 'my-view-image',\r\n    template:\r\n   `\r\n        <simple-notifications [options]=\"_options\"></simple-notifications>\r\n        <my-content title=\"Images\">\r\n            <div class=\"content\">\r\n                <div class=\"col-md-3 pull-left\" *ngFor=\"let image of _images\">\r\n                    <div class=\"pull-right\">\r\n                        <span \r\n                            (click)=\"confirmDelete(image.id)\"><i style=\"font-size:30px;cursor:pointer !important\" class=\"pe-7s-close\"></i>\r\n                        </span>\r\n                    </div>\r\n                    <img [src]=\"image.src\" class=\"img-thumbnail\" style=\"width:250px;height:250px\"/>\r\n                </div>\r\n            </div>\r\n        </my-content>\r\n    `\r\n})\r\n\r\n\r\nexport class ViewImageComponent implements OnInit, OnDestroy {\r\n\r\n    private _images;\r\n\r\n    private _options = {\r\n        position: [\"top\", \"right\"],\r\n        timeOut: 9000,\r\n        lastOnBottom: true\r\n    };\r\n\r\n    constructor(\r\n            private _miscService: MiscService,\r\n            private _notification: NotificationsService){}\r\n\r\n    ngOnInit(){\r\n        this.getImages();\r\n    }\r\n\r\n    confirmDelete(imageId){\r\n        let confirmed = confirm(\"Are you sure you want to remove the selected image\");\r\n        if (confirmed) \r\n            this.removeImage( imageId );\r\n    }\r\n\r\n    removeImage(imageId){\r\n        this._miscService.removeImage(imageId).subscribe(\r\n            res=>{\r\n                console.log(res);\r\n                this.getImages();\r\n                this._notification.success('Success', \"Image removed successfully...\")\r\n            },\r\n            err=>{\r\n                console.log(err);\r\n                this._notification.error('Error', 'Error removing image')\r\n            }\r\n        );\r\n    }\r\n\r\n    getImages(){\r\n        this._miscService.getImages().subscribe(\r\n            result => {\r\n                this._images = result.images;\r\n            },\r\n            error => console.log(error)\r\n        );\r\n    }\r\n    ngOnDestroy(){\r\n        //\r\n    }\r\n }\r\n"],"sourceRoot":"/source/"}