{"version":3,"sources":["admin2/misc/image/add/add-image.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAiCA;gBAYI,2BACoB,YAAyB,EACzB,GAAgB,EAChB,aAAmC;oBAFnC,iBAAY,GAAZ,YAAY,CAAa;oBACzB,QAAG,GAAH,GAAG,CAAa;oBAChB,kBAAa,GAAb,aAAa,CAAsB;oBAT/C,aAAQ,GAAG;wBACf,QAAQ,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC;wBAC1B,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,IAAI;qBACrB,CAAA;gBAKwD,CAAC;gBAEzD,oCAAQ,GAAR;oBAEG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;wBACvB,KAAK,EAAE,CAAC,EAAE,EAAC,kBAAU,CAAC,QAAQ,CAAC;qBAClC,CAAC,CAAC;gBACP,CAAC;gBAED,+BAAG,GAAH,UAAI,KAAK,EAAE,OAAO;oBAAlB,iBAOC;oBANG,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;wBAAC,MAAM,CAAC;oBAExB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAC7C,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,EAArD,CAAqD,EAC/D,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,EAAxC,CAAwC,CACpD,CAAC;gBACN,CAAC;gBAED,oCAAQ,GAAR,UAAS,KAAK;oBACV,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;oBAC7B,2CAA2C;oBAC3C,oDAAoD;oBACpD,4CAA4C;oBAC5C,IAAI,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;oBACnC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAExB,CAAC;gBAnEL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,cAAc;wBACxB,QAAQ,EACT,ihCAoBE;qBACJ,CAAC;;qCAAA;gBA8CD,wBAAC;YAAD,CA5CD,AA4CE,IAAA;YA5CF,iDA4CE,CAAA","file":"admin2/misc/image/add/add-image.component.js","sourcesContent":["import { Component, OnInit  } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { ImageInterface } from './add-image.interface';\r\nimport { MiscService } from '../../misc.service';\r\nimport {NotificationsService} from 'angular2-notifications';\r\n\r\n\r\n@Component({\r\n    selector: 'my-add-image',\r\n    template:\r\n   `\r\n   <simple-notifications [options]=\"_options\"></simple-notifications>\r\n\r\n   <my-content [title]=\"'Add Image'\">\r\n        <div class=\"content\">\r\n            <form autocomplete=\"off\" [formGroup]=\"form\" (ngSubmit)=\"add(form.value, form.valid)\" novalidate>\r\n\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"form-group\">\r\n                        <label>Image</label>\r\n                        <input type=\"file\" formControlName=\"image\" formControlName=\"image\" class=\"form-control\" placeholder=\"Book Image\" (change)=\"onChange($event)\">\r\n                        <small [hidden]=\"form.controls.image.pristine || !form.controls.image.hasError('required')\" class=\"inputError\">Image is required.</small>\r\n                    </div>\r\n                </div>\r\n\r\n                <button type=\"submit\" class=\"btn btn-info btn-fill pull-left\" [disabled]=\"!_files\">Add Image</button>\r\n                <div class=\"clearfix\"></div>\r\n            </form>\r\n        </div>\r\n    </my-content>\r\n    `\r\n})\r\n\r\nexport class AddImageComponent implements OnInit {\r\n\r\n    private form;\r\n\r\n    private _files;\r\n\r\n    private _options = {\r\n        position: [\"top\", \"right\"],\r\n        timeOut: 9000,\r\n        lastOnBottom: true\r\n    }\r\n\r\n    constructor(\r\n                private _miscService: MiscService, \r\n                private _fb: FormBuilder,\r\n                private _notification: NotificationsService){}\r\n\r\n     ngOnInit(){\r\n\r\n        this.form = this._fb.group({\r\n            image: ['',Validators.required]\r\n        });\r\n    }\r\n\r\n    add(model, isValid){\r\n        if(!this._files) return;\r\n        \r\n        this._miscService.addImage(this._files).subscribe(\r\n            result => this._notification.success('Success', result.success),\r\n            error => this._notification.error('Error', error)\r\n        );\r\n    }\r\n\r\n    onChange(event) {\r\n        console.log('Image changed');\r\n        //console.log(this.form.controls['image']);\r\n        //this.form.controls['image'].setValue('image set');\r\n        //this.form.controls['image'].setErrors({});\r\n        var files = event.srcElement.files;\r\n        this._files = files;\r\n\r\n    }\r\n\r\n\r\n }\r\n"],"sourceRoot":"/source/"}