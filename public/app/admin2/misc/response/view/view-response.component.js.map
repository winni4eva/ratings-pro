{"version":3,"sources":["admin2/misc/response/view/view-response.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA0CA;gBAkBI,+BACoB,YAAyB,EACzB,aAAmC,EACnC,OAAe;oBAFf,iBAAY,GAAZ,YAAY,CAAa;oBACzB,kBAAa,GAAb,aAAa,CAAsB;oBACnC,YAAO,GAAP,OAAO,CAAQ;oBAjB3B,iBAAY,GAAgB,EAAE,CAAC;oBAE/B,aAAQ,GAAG;wBACf,QAAQ,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC;wBAC1B,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,IAAI;qBACrB,CAAA;oBAEM,iBAAY,GAAW,CAAC,CAAC;oBAEzB,eAAU,GAAW,CAAC,CAAC;oBAEvB,gBAAW,GAAW,CAAC,CAAC;gBAKM,CAAC;gBAEtC,wCAAQ,GAAR;oBACI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACxB,CAAC;gBAED,4CAAY,GAAZ;oBAAA,iBAUC;oBARG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,SAAS,CACtC,UAAA,MAAM;wBACF,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;wBACnC,2CAA2C;oBAC/C,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,EAAxC,CAAwC,CACpD,CAAC;gBAEN,CAAC;gBAED,sCAAM,GAAN,UAAO,KAAK,EAAE,UAAU;oBACpB,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;wBAAC,MAAM,CAAC;oBAErC,EAAE,CAAA,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;wBACpC,IAAI,SAAS,GAAG,OAAO,CAAC,qDAAqD,CAAC,CAAC;wBAC/E,EAAE,CAAC,CAAC,SAAS,CAAC;4BACV,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,yBAAsB,UAAU,CAAE,CAAC,CAAC,CAAC;oBAEpE,CAAC;oBAAA,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAAA,CAAC;wBAC3C,IAAI,SAAS,GAAG,OAAO,CAAC,uDAAuD,CAAC,CAAC;wBACjF,EAAE,CAAC,CAAC,SAAS,CAAC;4BACV,IAAI,CAAC,MAAM,CAAE,UAAU,CAAE,CAAC;oBAClC,CAAC;gBAEL,CAAC;gBAED,sCAAM,GAAN,UAAO,UAAU;oBAAjB,iBAUC;oBATG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC;yBACnC,SAAS,CACM,UAAA,MAAM;wBACF,OAAA,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,EAAE,kCAAkC,CAAC;oBAAzE,CAAyE,EAG7E,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,EAAxC,CAAwC,EACjD,cAAM,OAAA,KAAI,CAAC,YAAY,EAAE,EAAnB,CAAmB,CAC5B,CAAC;gBAC1B,CAAC;gBAED,2CAAW,GAAX;oBACI,EAAE;gBACN,CAAC;gBAzGL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,kBAAkB;wBAC5B,QAAQ,EACT,k7CA8BE;qBACJ,CAAC;;yCAAA;gBAwED,4BAAC;YAAD,CAtED,AAsEE,IAAA;YAtEF,yDAsEE,CAAA","file":"admin2/misc/response/view/view-response.component.js","sourcesContent":["import { Component, OnInit, OnDestroy  } from '@angular/core';\r\nimport { MiscService } from '../../misc.service';\r\nimport {NotificationsService} from 'angular2-notifications';\r\n//import{ Pagination, PaginatedResult } from '../../../../shared/interfaces/interfaces';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'my-view-response',\r\n    template:\r\n   `\r\n        <simple-notifications [options]=\"_options\"></simple-notifications>\r\n\r\n        <my-content title=\"Responses\">\r\n            <div class=\"content table-responsive table-full-width\">\r\n                <table class=\"table table-hover table-striped\">\r\n                    <thead>\r\n                        <th>Name</th>\r\n                        <th>Score</th>\r\n                        <th>Image</th>\r\n                        <th>Action</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let response of _responses; let i = index\">\r\n                            <td>{{response?.name}}</td>\r\n                            <td>{{response?.rater?.score}}</td>\r\n                            <td><img [src]=\"response?.rater?.image?.src\" style=\"width:50px;height:50px\"/></td>\r\n                            <td>\r\n                                <select class=\"form-control\" [(ngModel)]=\"_actionValue[i]\" (change)=\"action(i, response?.id)\">\r\n                                    <option value=\"\">--Select Action--</option>\r\n                                    <option [value]=\"'edit'\">Edit</option>\r\n                                    <option [value]=\"'delete'\">Delete</option>\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n        </my-content>\r\n    `\r\n})\r\n\r\nexport class ViewResponseComponent implements OnInit, OnDestroy {\r\n\r\n    private _responses;\r\n\r\n    private _actionValue: Array<String>=[];\r\n\r\n    private _options = {\r\n        position: [\"top\", \"right\"],\r\n        timeOut: 9000,\r\n        lastOnBottom: true\r\n    }\r\n\r\n    public itemsPerPage: number = 2;\r\n\r\n    public totalItems: number = 0;\r\n\r\n    public currentPage: number = 1;\r\n\r\n    constructor(\r\n                private _miscService: MiscService,\r\n                private _notification: NotificationsService,\r\n                private _router: Router){}\r\n\r\n    ngOnInit(){\r\n        this.getResponses();\r\n    }\r\n\r\n    getResponses(){\r\n\r\n        this._miscService.getResponses().subscribe(\r\n            result => {\r\n                this._responses = result.responses;\r\n                //this.totalItems = result.responses.total;\r\n            },\r\n            error => this._notification.error('Error', error)\r\n        );\r\n\r\n    }\r\n\r\n    action(index, responseId) {\r\n        if(!this._actionValue[index]) return;\r\n\r\n        if(this._actionValue[index] == 'edit') {\r\n            let confirmed = confirm(\"Are you sure you want to edit the selected response\");\r\n            if (confirmed) \r\n                this._router.navigate([`admin/add_response/${responseId}`]);\r\n    \r\n        }else if(this._actionValue[index] == 'delete'){\r\n            let confirmed = confirm(\"Are you sure you want to remove the selected response\");\r\n            if (confirmed) \r\n                this.remove( responseId );\r\n        }\r\n    \r\n    }\r\n\r\n    remove(responseId){\r\n        this._miscService.removeResponse(responseId)\r\n                .subscribe( \r\n                                result => \r\n                                    this._notification.success('Success', 'Response removed successfully...')\r\n                                    //this._responses = result.responses\r\n                                ,\r\n                                error => this._notification.error('Error', error),\r\n                                () => this.getResponses()\r\n                            );\r\n    }\r\n\r\n    ngOnDestroy(){\r\n        //\r\n    }\r\n }\r\n"],"sourceRoot":"/source/"}