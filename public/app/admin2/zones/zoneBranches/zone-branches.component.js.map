{"version":3,"sources":["admin2/zones/zoneBranches/zone-branches.component.ts"],"names":[],"mappings":"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","file":"admin2/zones/zoneBranches/zone-branches.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, OnDestroy  } from '@angular/core';\n///import { StorageService } from '../../shared/storage/storage.service';\nimport { ZoneService } from '../zones.service';\nimport { BranchService } from '../../branch/branch.service';\nimport { ActivatedRoute } from '@angular/router';\nimport {NotificationsService} from 'angular2-notifications';\n\n@Component({\n    selector: 'my-zone-branches',\n    template:\n   `\n        <simple-notifications [options]=\"_options\"></simple-notifications>\n\n        <my-content title=\"Zone Branches\">\n\n            <div class=\"places-buttons\">\n\n                <div class=\"img-thumbnail\" style=\"width:200%\">\n                    \n                    <div class=\"row\" style=\"width:100%\">\n                        <h5 *ngIf=\"_zone?.name\" class=\"text-center\">{{_zone?.name}} Zone Branches</h5>\n                    </div>\n                    \n                    <p *ngIf=\"_zone?.zone_branches?.length == 0\" class=\"text-center\">This zone  has no branches</p>\n\n                    <div *ngFor=\"let branch of _zone?.zone_branches\">\n                        <div class=\"col-md-2\" style=\"margin-right:1px !important\">\n                            \n                            <div class=\"pull-right\">\n                                <span (click)=\"removeBranch(branch?.branch?.id)\">\n                                    <i style=\"font-size:30px;cursor:pointer !important\" class=\"pe-7s-close\"></i>\n                                </span>\n                            </div>\n\n                            <a class=\"btn btn-default btn-block\" style=\"border:2px solid black !important\">{{branch?.branch?.name}}</a>\n                        \n                        </div>\n                    </div>\n                \n                </div>\n\n                <div class=\"img-thumbnail\" style=\"width:200%\">\n                    \n                    <div class=\"row\">\n                        <h5 class=\"text-center\">Branches</h5>\n                    </div>\n                    \n                    <div *ngFor=\"let branch of _branches\">\n                        <div class=\"col-md-2\" style=\"margin-right:1px !important\">\n                            <a class=\"btn btn-default btn-block\" \n                            (click)=\"addZoneBranch(branch?.id)\"\n                            style=\"border:2px solid black !important\">\n                            {{branch?.name}}\n                            </a>\n                        </div>\n                    </div>\n                \n                </div>\n\n            </div>\n\n        </my-content>\n    `\n})\n\nexport class ZoneBranchesComponent implements OnInit, OnDestroy {\n\n    private _selectedZoneId;\n\n    private _zone;\n\n    private _branches;\n\n    private _zones;\n\n    private _options = {\n        position: [\"top\", \"right\"],\n        timeOut: 9000,\n        lastOnBottom: true\n    };\n\n    constructor(\n        private _branchService: BranchService,\n        private _zoneService: ZoneService,\n        private activeRoute: ActivatedRoute,\n        private _notification: NotificationsService){}\n\n    ngOnInit() {\n\n        this.activeRoute.params.subscribe(params => this._selectedZoneId = params['zoneId'] );\n\n        this.getZones();\n\n        this._branchService.getBranches().subscribe(\n                result => this._branches = result.branches,\n                error => console.log(error)\n        );\n    \n    }\n\n    addZoneBranch(branchId){\n        this._zoneService.addZoneBranch(branchId, this._selectedZoneId).subscribe(\n                result => {\n                    this._notification.success('Success', result.success)\n                    this.getZones();\n                },\n                error => console.log(error)\n        );\n    }\n\n    getZones(){\n        this._zoneService.getZones().subscribe(\n                result => {\n                    this._zones = result.zones;\n                    for(let zone of this._zones){\n                        if(zone.id == this._selectedZoneId) this._zone = zone;\n                    }\n                },\n                error => console.log(error)\n        );\n    }\n\n    removeBranch(branchId){\n        this._zoneService.removeZoneBranch(branchId, this._selectedZoneId).subscribe(\n                result => {\n                    this._notification.success('Success', result.success);\n                    this.getZones();\n                },\n                error => console.log(error)\n        );\n    }\n\n    ngOnDestroy(){\n      \n    }\n }\n"],"sourceRoot":"/source/"}