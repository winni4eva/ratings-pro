{"version":3,"sources":["admin2/branch/view/view-branch.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA2EA;gBAQI,sBAAsB;gBAEtB,mBAAmB;gBAEnB,8CAA8C;gBAE9C,8CAA8C;gBAE9C,6BACY,cAA6B,EAC7B,YAA0B,EAC1B,MAAc;oBAFd,mBAAc,GAAd,cAAc,CAAe;oBAC7B,iBAAY,GAAZ,YAAY,CAAc;oBAC1B,WAAM,GAAN,MAAM,CAAQ;oBAflB,YAAO,GAAe,EAAE,CAAC;oBAgBzB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;gBAChC,CAAC;gBAEL,sCAAQ,GAAR;oBAAA,iBAKC;oBAJG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC,SAAS,CACvC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,EAAhC,CAAgC,EAC1C,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B,CAAC;gBACN,CAAC;gBAED,wCAAU,GAAV;oBACI,MAAM;gBACV,CAAC;gBAED,oCAAM,GAAN,UAAO,KAAK,EAAE,KAAK,EAAE,QAAQ;oBACzB,mCAAmC;oBACnC,qBAAqB;oBACrB,+BAA+B;oBAC/B,2DAA2D;oBAC3D,yDAAyD;oBACzD,mGAAmG;gBACvG,CAAC;gBAED,wCAAU,GAAV,UAAW,QAAQ;oBACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,4BAAyB,QAAQ,CAAE,CAAE,CAAC,CAAC;gBAClE,CAAC;gBAED,yCAAW,GAAX;oBACI,EAAE;gBACN,CAAC;gBAtHL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,gBAAgB;wBAC1B,QAAQ,EACT,68FAgEE;qBACJ,CAAC;;uCAAA;gBAmDD,0BAAC;YAAD,CAlDD,AAkDE,IAAA;YAlDF,qDAkDE,CAAA","file":"admin2/branch/view/view-branch.component.js","sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild  } from '@angular/core';\r\nimport { BranchService } from '../branch.service';\r\n//import { MODAL_DIRECTIVES, ModalComponent } from 'ng2-bs3-modal/ng2-bs3-modal'\r\nimport { ModalService } from '../../../shared/modal/modal.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'my-view-branch',\r\n    template:\r\n   `\r\n        <my-content title=\"Branches\">\r\n            <div class=\"content table-responsive table-full-width\">\r\n                <pagination-controls (pageChange)=\"page = $event\" id=\"1\"\r\n                      maxSize=\"5\"\r\n                      directionLinks=\"true\"\r\n                      autoHide=\"true\"\r\n                      class=\"pull-right\"\r\n                      style=\"pointer:cursor\">\r\n                </pagination-controls>\r\n                <table class=\"table table-hover table-striped\">\r\n                    <thead>\r\n                        <th>Name</th>\r\n                        <th>Number Of Surveys</th>\r\n                        <th>Add/Remove Survey</th>\r\n                        <th>Action</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        \r\n                        <tr *ngFor=\"let branch of _branches | paginate: {itemsPerPage: 5, currentPage:page, id: '1'};let i = index\">\r\n                            \r\n                            <td>{{branch?.name}}</td>\r\n                            <td>{{branch?.surveys.length}}</td>\r\n                            <td><a class=\"btn btn-default\" style=\"pointer:cursor\" (click)=\"addSurveys(branch?.id)\">surveys</a></td>\r\n                            <td>\r\n                                <div class=\"col-md-3\">\r\n                                    <div class=\"form-group\">\r\n                                        <select class=\"form-control\" [(ngModel)]=\"_action[i]\" (click)=\"action($event,i,branch?.id)\">\r\n                                            <option [value]=\"\">Select Action</option>\r\n                                            <option [value]=\"'edit'\">Edit</option>\r\n                                            <option [value]=\"'delete'\">Delete</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                    </tbody>\r\n                </table>\r\n                <pagination-controls (pageChange)=\"page = $event\" id=\"1\"\r\n                      maxSize=\"5\"\r\n                      directionLinks=\"true\"\r\n                      autoHide=\"true\"\r\n                      class=\"pull-right\"\r\n                      style=\"pointer:cursor\">\r\n                </pagination-controls>\r\n            </div>\r\n        </my-content>\r\n\r\n        <!--\r\n        <button (click)=\"modalService.open(MODAL_DEMO_ID)\">\r\n            Open Modal\r\n        </button>\r\n\r\n        <tb-modal modal-title=\"Catchy Title Here\" blocking=\"true\" modal-id=\"{{ MODAL_DEMO_ID }}\">\r\n\r\n            <div class=\"center\">Are you sure about this ?</div>\r\n\r\n            <div class=\"buttons\">\r\n                <button class=\"flat\" (click)=\"doTheThing()\">Yes</button>\r\n                <button (click)=\"modalService.close(MODAL_DEMO_ID)\">No</button>\r\n            </div>\r\n        </tb-modal>\r\n        -->\r\n    `\r\n})\r\nexport class ViewBranchComponent implements OnInit, OnDestroy {\r\n\r\n    private _branches;\r\n\r\n    private _action: Array<any> = [];\r\n\r\n    private MODAL_DEMO_ID: string;\r\n\r\n    //private _branchList;\r\n    \r\n    //private _company;\r\n\r\n    //@ViewChild('modal1') modal1: ModalComponent;\r\n\r\n    //@ViewChild('modal2') modal2: ModalComponent;\r\n\r\n    constructor(\r\n        private _branchService: BranchService, \r\n        private modalService: ModalService,\r\n        private router: Router){\r\n            this.MODAL_DEMO_ID = 'mod1';\r\n        }\r\n\r\n    ngOnInit(){\r\n        this._branchService.getBranches().subscribe(\r\n            result => this._branches = result.branches,\r\n            error => console.log(error)\r\n        );\r\n    }\r\n\r\n    doTheThing(): void {\r\n        // ...\r\n    }\r\n\r\n    action(event, index, branchId){\r\n        //console.log(this._action[index]);\r\n        //console.log(event);\r\n        //this.selectedBookId = bookId;\r\n        //if(this._action[index]=='delete') this.modal1.open('lg');\r\n        //if(this._action[index]=='edit') this.modal2.open('lg');\r\n        //if(this._action[index]=='surveys') this.router.navigate([ `/admin/branch-surveys/${branchId}` ]);\r\n    }\r\n\r\n    addSurveys(branchId){\r\n        this.router.navigate([ `/admin/branch-surveys/${branchId}` ]);\r\n    }\r\n\r\n    ngOnDestroy(){\r\n        //\r\n    }\r\n }\r\n"],"sourceRoot":"/source/"}