{"version":3,"sources":["admin2/survey/view/view-survey.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAwCA;gBAWI,6BACoB,cAA6B,EAC7B,YAAyB,EACzB,aAAmC;oBAFnC,mBAAc,GAAd,cAAc,CAAe;oBAC7B,iBAAY,GAAZ,YAAY,CAAa;oBACzB,kBAAa,GAAb,aAAa,CAAsB;oBAV/C,aAAQ,GAAG;wBACf,QAAQ,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC;wBAC1B,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,IAAI;qBACrB,CAAA;gBAMwD,CAAC;gBAE1D,sCAAQ,GAAR;oBAAA,iBAKC;oBAJG,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CACtC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,EAA9B,CAA8B,EACxC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B,CAAC;gBACN,CAAC;gBAED,oCAAM,GAAN,UAAO,QAAQ;oBAAf,iBAOC;oBANG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,4EAA4E,CAAC,CAAC;oBAC9G,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC;yBAClC,SAAS,CACN,UAAA,OAAO,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAlE,CAAkE,EAC7E,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,gCAAgC,CAAC,EAAnE,CAAmE,CAC/E,CAAC;gBAClB,CAAC;gBAED,yCAAW,GAAX;oBACI,EAAE;gBACN,CAAC;gBArEL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,gBAAgB;wBAC1B,QAAQ,EACT,sqCA6BE;qBACJ,CAAC;;uCAAA;gBAqCD,0BAAC;YAAD,CAnCD,AAmCE,IAAA;YAnCF,qDAmCE,CAAA","file":"admin2/survey/view/view-survey.component.js","sourcesContent":["import { Component, OnInit, OnDestroy  } from '@angular/core';\r\nimport { SurveyService } from '../survey.service';\r\nimport { FileService } from '../../../shared/file-generator/file.service';\r\nimport { NotificationsService } from 'angular2-notifications';\r\n\r\n@Component({\r\n    selector: 'my-view-survey',\r\n    template:\r\n   `\r\n        <simple-notifications [options]=\"_options\"></simple-notifications>\r\n\r\n        <my-content title=\"Surveys\">\r\n\r\n            <div class=\"pull-right\">\r\n                <span (click)=\"export('pdf')\">\r\n                    p<i style=\"font-size:30px;cursor:pointer !important\" class=\"pe-7s-note2\"></i>\r\n                </span>\r\n                <span (click)=\"export('excel')\">\r\n                    e<i style=\"font-size:30px;cursor:pointer !important\" class=\"pe-7s-note2\"></i>\r\n                </span>\r\n            </div>\r\n\r\n            <div class=\"content table-responsive table-full-width\">\r\n                <table class=\"table table-hover table-striped\">\r\n                    <thead>\r\n                        <th>Survey</th>\r\n                        <th>Category</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let survey of _surveys; let i = index\">\r\n                            <td>{{survey?.title}}</td>\r\n                            <td>{{survey?.category?.name}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </my-content>\r\n    `\r\n})\r\n\r\nexport class ViewSurveyComponent implements OnInit, OnDestroy {\r\n\r\n    private _surveys;\r\n\r\n    private _options = {\r\n        position: [\"top\", \"right\"],\r\n        timeOut: 9000,\r\n        lastOnBottom: true\r\n    }\r\n\r\n\r\n    constructor(\r\n                private _surveyService: SurveyService,\r\n                private _fileService: FileService,\r\n                private _notification: NotificationsService){}\r\n\r\n    ngOnInit(){\r\n        this._surveyService.getSurveys().subscribe(\r\n            result => this._surveys = result.surveys,\r\n            error => console.log(error)\r\n        );\r\n    }\r\n\r\n    export(fileType){\r\n        this._notification.info('Info', 'Generating survey report. This may take long depending on the size of data');\r\n        this._fileService.generate('surveys', fileType)\r\n                    .subscribe(\r\n                        success => window.open(this._fileService.printReport(success.file, fileType)),\r\n                        error => this._notification.error('Error', 'Error generating survey report')\r\n                    );\r\n    }\r\n\r\n    ngOnDestroy(){\r\n        //\r\n    }\r\n }\r\n"],"sourceRoot":"/source/"}