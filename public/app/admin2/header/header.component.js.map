{"version":3,"sources":["admin2/header/header.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA8IA;gBAQI,yBACkB,aAA2B,EAC3B,eAA+B,EAC/B,OAAe,EACf,aAAmC,EACnC,cAA8B;oBAJ9B,kBAAa,GAAb,aAAa,CAAc;oBAC3B,oBAAe,GAAf,eAAe,CAAgB;oBAC/B,YAAO,GAAP,OAAO,CAAQ;oBACf,kBAAa,GAAb,aAAa,CAAsB;oBACnC,mBAAc,GAAd,cAAc,CAAgB;oBATxC,mBAAc,GAAe,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;oBAEnE,yBAAoB,GAAsB,IAAI,mBAAY,EAAE,CAAC;gBAOnC,CAAC;gBAEnD,kCAAQ,GAAR;oBACI,uEAAuE;oBAEvE,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBAChC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;gBAEvE,CAAC;gBAED,gCAAM,GAAN;oBAAA,iBAUC;oBARG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;yBACzB,SAAS,CAAE,UAAA,QAAQ;wBACZ,KAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;wBACtC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACjC,0DAA0D;oBAC9D,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,EAAxC,CAAwC,CACpD,CAAC;gBACV,CAAC;gBAEO,0CAAgB,GAAxB,UAAyB,aAAa;oBAClC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAE,aAAa,CAAE,CAAC;gBACpD,CAAC;gBA/BD;oBAAC,aAAM,CAAC,cAAc,CAAC;;6EAAA;gBA9I3B;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,WAAW;wBACrB,QAAQ,EACT,27NAkIE;qBACJ,CAAC;;mCAAA;gBAwCD,sBAAC;YAAD,CAtCD,AAsCE,IAAA;YAtCF,6CAsCE,CAAA","file":"admin2/header/header.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter  } from '@angular/core';\r\nimport { LoginService } from '../../auth/login/login.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { StorageService } from '../../shared/storage/storage.service';\r\nimport {NotificationsService} from 'angular2-notifications';\r\n\r\n@Component({\r\n    selector: 'my-header',\r\n    template:\r\n   `\r\n   <nav class=\"navbar navbar-default navbar-fixed\">\r\n            <div class=\"container-fluid\">\r\n                <!--\r\n                <div class=\"navbar-header\">\r\n                    <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navigation-example-2\">\r\n                        <span class=\"sr-only\">Toggle navigation</span>\r\n                        <span class=\"icon-bar\"></span>\r\n                        <span class=\"icon-bar\"></span>\r\n                        <span class=\"icon-bar\"></span>\r\n                    </button>\r\n                    <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\r\n                </div>\r\n                -->\r\n                <div class=\"collapse navbar-collapse\">\r\n                    <ul class=\"nav navbar-nav navbar-left\">\r\n                        <!--\r\n                        <li>\r\n                            <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                <i class=\"fa fa-dashboard\"></i>\r\n                            </a>\r\n                        </li>\r\n                        \r\n                        <li class=\"dropdown\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    <i class=\"fa fa-globe\"></i>\r\n                                    <b class=\"caret\"></b>\r\n                                    <span class=\"notification\">5</span>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a href=\"#\">Notification 1</a></li>\r\n                                <li><a href=\"#\">Notification 2</a></li>\r\n                                <li><a href=\"#\">Notification 3</a></li>\r\n                                <li><a href=\"#\">Notification 4</a></li>\r\n                                <li><a href=\"#\">Another notification</a></li>\r\n                              </ul>\r\n                        </li>\r\n                        \r\n                        <li>\r\n                           <a href=\"\">\r\n                                <i class=\"fa fa-search\"></i>\r\n                            </a>\r\n                        </li>\r\n                        -->\r\n                    </ul>\r\n\r\n                    <ul class=\"nav navbar-nav navbar-right\">\r\n\r\n                        <li class=\"dropdown\" *ngIf=\"_info[0]?.role == 'admin'\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    Branch\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a [routerLink]=\"['/admin/view_branches']\">Branches</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_branch']\">New</a></li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li class=\"dropdown\" *ngIf=\"_info[0]?.role == 'admin'\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    Survey\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a [routerLink]=\"['/admin/view_categories']\">Categories</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_category']\">New</a></li>\r\n                                <li class=\"divider\"></li>\r\n                                <li><a [routerLink]=\"['/admin/view_surveys']\">Surveys</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_survey']\">New</a></li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li class=\"dropdown\" *ngIf=\"_info[0]?.role == 'admin'\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    Misc\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a [routerLink]=\"['/admin/view_responses']\">Responses</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_response/0']\">New</a></li>\r\n                                <li class=\"divider\"></li>\r\n                                <li><a [routerLink]=\"['/admin/view_images']\">Images</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_image']\">New</a></li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li class=\"dropdown\" *ngIf=\"_info[0]?.role == 'admin'\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    User\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a [routerLink]=\"['/admin/view_users']\">Users</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_user/0']\">New</a></li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li class=\"dropdown\" *ngIf=\"_info[0]?.role == 'admin'\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    Zone\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li><a [routerLink]=\"['/admin/view_zones']\">Zones</a></li>\r\n                                <li><a [routerLink]=\"['/admin/add_zone']\">New</a></li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li class=\"dropdown\">\r\n                              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    SideBar Color\r\n                                    <b class=\"caret\"></b>\r\n                              </a>\r\n                              <ul class=\"dropdown-menu\">\r\n                                <li *ngFor=\"let color of _sideBarColors\">\r\n                                    <a (click)=\"sendSideBarColor(color)\" style=\"cursor:pointer\">{{color | uppercase}}</a>\r\n                                </li>\r\n                              </ul>\r\n                        </li>\r\n\r\n                        <li>\r\n                            <a (click)=\"logout()\" style=\"cursor:pointer\">\r\n                                Log out [ {{_info[0]?.first_name}} ]\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    `\r\n})\r\n\r\nexport class HeaderComponent {\r\n\r\n    private _info;\r\n\r\n    private _sideBarColors: Array<any> = ['blue', 'azure', 'green', 'orange', 'red', 'purple'];\r\n\r\n    @Output(\"sideBarColor\") selectedSideBarColor: EventEmitter<any> = new EventEmitter();\r\n\r\n    constructor(\r\n              private _loginService: LoginService, \r\n              private _storageService: StorageService,\r\n              private _router: Router,\r\n              private _notification: NotificationsService,\r\n              private activatedRoute: ActivatedRoute){}\r\n\r\n    ngOnInit(){\r\n        //this.activatedRoute.params.subscribe(params => console.log(params) );\r\n\r\n        this._info = (this._storageService.get('rUser'))?\r\n                        JSON.parse(this._storageService.get('rUser')) : {};\r\n\r\n    }\r\n\r\n    logout(){\r\n\r\n        this._loginService.getLogout()\r\n            .subscribe( response => {\r\n                    this._loginService.cleanAuthDetails();\r\n                    this._router.navigate(['login']);\r\n                    //this._notification.success('Success', response.success) \r\n                },\r\n                error => this._notification.error('Error', error)\r\n            );\r\n    }\r\n\r\n    private sendSideBarColor(selectedColor){\r\n        this.selectedSideBarColor.emit( selectedColor );\r\n    }\r\n }\r\n"],"sourceRoot":"/source/"}